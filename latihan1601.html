<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MieXplosion : Experience the Ultimate Noodle Adventure</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
      body {
        background-color:  #FFF9C4;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        color: #333;
        padding-top: 60px;
      }

      .navbar-custom {
        background-color: #FF5722;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        padding: 5px 0;
        font-size: 14px;
        justify-content: center;
        align-items: center;
      }

      .navbar-custom .navbar-nav .nav-link {
        color: white;
      }

      .navbar-custom .navbar-nav .nav-link:hover {
        color: #FFB74D;
      }

      .navbar-custom .navbar-brand {
        font-family: 'Raleway', sans-serif;
        font-size: 28px;
        font-weight: bold;
        color: white;
        transition: color 0.3s;
      }

      .navbar-custom .navbar-brand:hover {
        color: #FFB74D;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
      }

      .container {
        flex-grow: 1;
      }

      .deskripsi {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 30px;
      }

      .produkitem {
        height: 200px;
        text-align: center;
        object-fit: cover;
      }

      .card-title {
        font-size: 16px;
      }

      .produk-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        margin-top: 30px;
      }

      .card {
        width: 15rem;
      }

      footer {
        text-align: center;
        margin-top: auto;
        background-color: #FF5722;
        color: white;
        padding: 10px 0;
      }

      .top-footer {
        background-color: #E64A19;
        padding: 20px 0;
        text-align: center;
      }

      .social-icons {
        margin-top: 10px;
      }

      .social-icons a {
        margin: 0 15px;
        color: white;
        font-size: 24px;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      .cart-item {
        margin-bottom: 20px;
      }

      .testimonial-form {
        margin-top: 40px;
      }

      .container img{
        display:block;
        margin: 0 auto;
        max-width: 100%;
        height: auto;
      }

      #page1 h2{
        text-align: center;
        font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
      }

      #page1 p{
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        font-size: 25px;
        display: flex;
        text-align:center;
        text-indent: 30px;
      }

      #page3 h2 {
        text-align: center;
        margin-top: 50px;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      #page4 h3 {
        text-align: center;
        margin-top: 40px;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
      }

      .testimonial-form .form-label,
      .testimonial-form .form-control {
        width: 100%;
      }

    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-custom fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">MieXplosion</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="#" onclick="navigateTo('page1')">About Us</a></li>
            <li class="nav-item"><a class="nav-link" href="#" onclick="navigateTo('page2')">Products</a></li>
            <li class="nav-item"><a class="nav-link" href="#" onclick="navigateTo('page3')">Cart</a></li>
            <li class="nav-item"><a class="nav-link" href="#" onclick="navigateTo('page4')">Testimonials</a></li>
          </ul>
        </div>
      </div>
    </nav>    

    <div class="container">
      <div id="page1" class="section active">
        <br>
        <h2><strong>üå∂Ô∏è Welcome MieNators to MieXplosion : The Ultimate Noodle Adventure üçú</strong></h2>
        <img src="Assets/Logo_MieXplosion-removebg-preview.png" alt="Image with transparent background">
        <p><strong>Tempat di mana pengalaman makan mie jadi gak biasa! Mie itu udah jadi teman setia kita semua, apalagi mie instan yang praktis dan selalu jadi pilihan pas di setiap momen seru. Tapi di MieXplosion, setiap mangkuk mie jadi lebih spesial dengan kejutan rasa yang berani dan nggak terlupakan! Rasakan sensasi ledakan rasa yang bikin setiap suapan makin menggoda.<br> MieXplosion : Makan Mie Ala Gen-Z, Rasakan Kehebohannya!!</strong></p>
      </div>

      <div id="page2" class="section">
        <div id="produklist" class="produk-list"></div>
        <button class="btn btn-primary mt-4" onclick="navigateTo('page1')">Kembali</button>
      </div>

      <div id="page3" class="section">
        <h2><strong>Ready to Checkout? Delicious Instant Noodles Await in Your Cart!</strong></h2>
        <div id="cartItems" class="row"></div>
        <div class="text-end">
          <h4>Total: Rp. <span id="totalPrice">0</span></h4>
          <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#checkoutModal">Checkout</button>
        </div>
        <button class="btn btn-primary mt-4" onclick="navigateTo('page2')">Kembali</button>
      </div>

      <div id="page4" class="section">
        <h3><strong>Instant Noodles + You = Fun Stories! How Does It Taste?</strong></h3>
        <form id="testimonialForm" class="testimonial-form">
          <div class="mb-3">
            <label for="testimonialName" class="form-label">Nama Anda</label>
            <input type="text" class="form-control" id="testimonialName" required>
          </div>
          <div class="mb-3">
            <label for="testimonialMessage" class="form-label">Testimoni</label>
            <textarea class="form-control" id="testimonialMessage" rows="3" required></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Kirim Testimoni</button>
        </form>
      </div>

      <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="checkoutModalLabel">Checkout</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="checkoutForm">
                <div class="mb-3">
                  <label for="name" class="form-label">Nama</label>
                  <input type="text" class="form-control" id="name" required>
                </div>
                <div class="mb-3">
                  <label for="address" class="form-label">Alamat Pengiriman</label>
                  <textarea class="form-control" id="address" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                  <label for="paymentMethod" class="form-label">Metode Pembayaran</label>
                  <select class="form-select" id="paymentMethod" required>
                    <option value="transfer">Transfer Bank</option>
                    <option value="cod">Cash on Delivery</option>
                    <option value="e-wallet">E-wallet</option>
                  </select>
                </div>
                <button type="submit" class="btn btn-primary">Selesaikan Pembelian</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="top-footer">
        <h5>Contact Us</h5>
        <p>Email : miexplosion@gmail.com | Telepon: 0859-4045-4410</p>
        <div class="social-icons">
          <a href="https://www.instagram.com/amberleaa_a" class="fab fa-instagram"></a>
          <a href="https://wa.me/085940454410" class="fab fa-whatsapp"></a>
        </div>
      </div>
      <p id="kopirig">Copyright 2025</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      let cart = [];

      function addToCart(name, price, image) {
        cart.push({ id: cart.length + 1, name: name, price: price, image: image });
        updateCart();
        alert(`${name} telah ditambahkan ke keranjang`);
      }

      function updateCart() {
        $('#cartItems').empty();
        let total = 0;

        cart.forEach(item => {
          total += item.price;
          $('#cartItems').append(`
            <div class="col-md-4 cart-item">
              <div class="card">
                <img src="${item.image}" class="card-img-top produkitem" alt="${item.name}">
                <div class="card-body">
                  <h5 class="card-title">${item.name}</h5>
                  <p class="card-text">Rp. ${item.price}</p>
                </div>
              </div>
            </div>
          `);
        });

        $('#totalPrice').text(total);
      }

      function navigateTo(pageId) {
        $(".section").removeClass("active");
        $("#" + pageId).addClass("active");
      }

      $(function() {
        var URLAPI = "https://apimhstiki.ptov.my.id";
        var NIM = "2401010474";
        let urlProduk = URLAPI + "/" + NIM + "/produk/list";

        $.ajax({
          url: URLAPI + '/slideshow/' + NIM,
          method: 'GET',
          dataType: 'json',
          success: function(dta) {
            $("#deskripsi").html(dta.deskripsi);
            $("#kopirig").html("Copyright 2025 &copy; " + dta.judul + " by " + dta.nama);
          },
          error: function(xhr, status, error) {
            console.log('Ajax Error: ', status, error);
          }
        });

        $.ajax({
          url: urlProduk,
          method: 'GET',
          dataType: 'json',
          success: function(dta) {
            if (dta && dta.error == 0) {
              let tProduk = "";
              dta.produk.forEach(function(brg) {
                tProduk += `
                  <div class="card">
                    <img src="${brg.IMG}" class="card-img-top produkitem" alt="${brg.ITEM}">
                    <div class="card-body">
                      <h5 class="card-title">${brg.ITEM}</h5>
                      <p class="card-text">Rp. ${brg.HRGJUAL},-</p>
                      <a href="#" class="btn btn-primary">Detail</a>
                      <button class="btn btn-warning" onclick="addToCart('${brg.ITEM}', ${brg.HRGJUAL}, '${brg.IMG}')">Beli</button>
                    </div>
                  </div>
                `;
              });
              $('#produklist').html(tProduk);
            } else {
              console.log("Tidak ada data produk");
            }
          },
          error: function(xhr, status, error) {
            console.log('Ajax Error: ', status, error);
          }
        });
      });

      $('#testimonialForm').submit(function(e) {
        e.preventDefault();
        const name = $('#testimonialName').val();
        const message = $('#testimonialMessage').val();
        alert(`Terima kasih atas testimoni Anda, ${name}!`);
      });
    </script>
  </body>
</html>
